---
createTime: 2022/10/25
tag: '浏览器'
---
# 从输入一个 URL 地址到浏览器完成渲染的整个过程

## 简单版

### 这里可以按照进程来分

* 浏览器主进程： 用户输入判断
  * 处理输入信息
  * 判断是 URL 还是 关键字
  * 如果是关键字 会按照默认地址组装出一个 URL
  * 比如 在 谷歌浏览器直接输入 百度 两字  最终会拼接成一个 url
  * <https://www.google.com/search?q=%E7%99%BE%E5%BA%A6&oq=%E7%99%BE%E5%BA%A6&aqs=chrome..69i57j69i65j69i60j69i65j69i60l2.560j0j1&sourceid=chrome&ie=UTF-8>
  * 如果是 URL  会判断是否带有前缀 就是  http 还是 https
  * 如果没有带前缀 会自动帮忙拼接前缀
  * 处理完成信息开始下一步
* 浏览器主进程： 开始导航 交给网络进程
* 网络进程： 准备发起 url 请求
  * 会判断是否有缓存
  * 有缓存
    * 直接返回资源 给 浏览器主进程
  * 无缓存
    * DNS 解析  获取 IP
      * 建立 TLS TCP链接
      * 构建请求头  请求行  cookies
    * 发送 HTTP 请求
    * 服务器处理请求返回 HTTP 报文
    * 读取响应头信息
    * 根据状态码 处理
    * 如果是 301 重定向
      * 根据 Location 字段重定向到新地址
      * 根据 Content-type 决定如何显示响应内容
    * 告诉浏览器主进程 准备通知 渲染进程
* 浏览器主进程： 准备渲染进程
* 渲染进程： 提交文档  根据 网络进程 建立管道 准备读取响应体数据
* 网络进程： 读取响应体数据 传输完成
* 渲染进程： 确认提交
* 浏览器主进程： 收到确认信息 提交信息
* 渲染进程： 页面解析和资源加载
* 浏览器主进程： 页面完成加载

## 复杂版

<https://juejin.cn/post/6844903832435032072>
